
[1m--- Webview Guard ---[0m
  [32mΓ£ô[0m blocks non-agent-panel windows
  [32mΓ£ô[0m allows agent panel (returns no-permission-button when empty)

[1m--- Button Text Matching ---[0m
  [32mΓ£ô[0m "Run" ΓåÆ clicked:run
  [32mΓ£ô[0m "run" ΓåÆ clicked:run
  [32mΓ£ô[0m "RUN" ΓåÆ clicked:run
  [32mΓ£ô[0m "Run Alt+d" ΓåÆ clicked:run
  [32mΓ£ô[0m "Run Command" ΓåÆ clicked:run
  [32mΓ£ô[0m "Accept" ΓåÆ clicked:accept
  [32mΓ£ô[0m "accept" ΓåÆ clicked:accept
  [32mΓ£ô[0m "Accept All" ΓåÆ clicked:accept
  [32mΓ£ô[0m "Always Allow" ΓåÆ clicked:always allow
  [32mΓ£ô[0m "always allow" ΓåÆ clicked:always allow
  [32mΓ£ô[0m "Always ALLOW" ΓåÆ clicked:always allow
  [32mΓ£ô[0m "Allow this conversation" ΓåÆ clicked:allow this conversation
  [32mΓ£ô[0m "Allow" ΓåÆ clicked:allow
  [32mΓ£ô[0m "allow" ΓåÆ clicked:allow

[1m--- Priority Order ---[0m
  [32mΓ£ô[0m "Run" beats "Always Allow" when both present
  [32mΓ£ô[0m "Accept" beats "Allow" when both present
  [32mΓ£ô[0m "Run" beats "Accept" when both present
  [32mΓ£ô[0m "Always Allow" beats plain "Allow"

[1m--- Reject / Ignore Cases ---[0m
  [32mΓ£ô[0m skips text > 50 chars (container, not button)
  [32mΓ£ô[0m skips disabled button
  [32mΓ£ô[0m skips aria-disabled button
  [32mΓ£ô[0m skips button with .loading class
  [32mΓ£ô[0m skips button containing .codicon-loading spinner
  [32mΓ£ô[0m skips plain DIV with "Run" (not a button)
  [32mΓ£ô[0m does NOT match 2-char text via startsWith

[1m--- Clickable Ancestor Traversal ---[0m
  [32mΓ£ô[0m span inside <button> ΓåÆ clicks button
  [32mΓ£ô[0m span inside role="button" div ΓåÆ clicks div
  [32mΓ£ô[0m span inside cursor-pointer div ΓåÆ clicks div
  [32mΓ£ô[0m span inside tabindex="0" div ΓåÆ clicks div

[1m--- data-testid / data-action Shortcut ---[0m
  [32mΓ£ô[0m data-testid="alwaysallow" on <button> matches
  [32mΓ£ô[0m data-action="always-allow" on <button> matches
  [32mΓ£ô[0m data-testid on plain DIV is NOT clicked

[1m--- Expand Banner (Pass 2) ---[0m
  [32mΓ£ô[0m "Expand" clicked when no action buttons exist
  [32mΓ£ô[0m "Requires Input" banner clicked (startsWith match)
  [32mΓ£ô[0m "1 Step Requires Input" does NOT match (prefix mismatch)
  [32mΓ£ô[0m expand skipped when CAN_EXPAND=false
  [32mΓ£ô[0m action buttons beat expand

[1m--- Custom Button Texts ---[0m
  [32mΓ£ô[0m custom "toujours autoriser" matches
  [32mΓ£ô[0m built-in "Run" still beats custom text

[1m--- Edge Cases ---[0m
  [32mΓ£ô[0m empty DOM ΓåÆ no-permission-button
  [32mΓ£ô[0m whitespace "  Run  " still matches
  [32mΓ£ô[0m icon + text child: <button><span>ΓÜí</span><span>Run</span></button>

ΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉΓòÉ
  [32m44 passed[0m, [32m0 failed[0m, 44 total

